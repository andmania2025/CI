---
description: 機能開発プロセス、チェックリスト、実装手順
---

# 機能開発プロンプト

## 機能開発プロセス

### 1. 計画フェーズ

- **要件を理解する**: この機能はどのような問題を解決するのか？
- **ユーザーストーリーを定義する**: ユーザーは誰で、彼らの目標は何か？
- **依存関係を特定する**: この機能はどの既存のコード/機能に依存しているか？
- **アーキテクチャを計画する**: これは現在のシステムとどのように統合されるか？

### 2. 設計フェーズ

- **UI/UX 設計**: ユーザーインターフェースをスケッチする
- **データモデル**: 必要に応じてデータベーススキーマの変更を定義する
- **API 設計**: Server Actions または API ルートを計画する
- **コンポーネント構造**: 再利用可能なコンポーネントを特定する

### 3. 実装フェーズ

- **データ層から始める**: Prisma スキーマを作成/更新する
- **サーバーロジックを構築する**: バリデーション付きの Server Actions を実装する
- **コンポーネントを作成する**: パターンに従って UI コンポーネントを構築する
- **状態管理を統合する**: サーバー状態に TanStack Query を使用する

### 4. テストフェーズ

- **ユニットテスト**: 個々のコンポーネントと関数をテストする
- **統合テスト**: 機能ワークフローをテストする
- **E2E テスト**: 完全なユーザージャーニーをテストする
- **手動テスト**: エッジケースとユーザーエクスペリエンスを検証する

## 機能開発チェックリスト

### 計画

- [ ] 要件が明確に定義されている
- [ ] ユーザーストーリーが文書化されている
- [ ] 技術的アプローチが計画されている
- [ ] 依存関係が特定されている
- [ ] タイムラインが見積もられている

### データベースとスキーマ

- [ ] 必要に応じて Prisma スキーマが更新されている
- [ ] マイグレーションが作成され、テストされている
- [ ] 必要に応じてシードデータが更新されている
- [ ] 新しいテーブルに RLS ポリシーが追加されている

### バックエンド実装

- [ ] 適切なバリデーション付きで Server Actions が作成されている
- [ ] 入力/出力用に Zod スキーマが定義されている
- [ ] 認証チェックが実装されている
- [ ] エラーハンドリングが追加されている
- [ ] データベースクエリが最適化されている

### フロントエンド実装

- [ ] コンポーネントは命名規則に従っている
- [ ] Props インターフェースが適切に定義されている
- [ ] 状態管理戦略が選択されている
- [ ] ローディングとエラー状態が処理されている
- [ ] レスポンシブデザインが実装されている
- [ ] アクセシビリティの考慮事項が対処されている

### テスト

- [ ] ロジック用にユニットテストが書かれている
- [ ] コンポーネントテストが作成されている
- [ ] 統合テストがワークフローをカバーしている
- [ ] E2E テストがユーザージャーニーをカバーしている
- [ ] エッジケースがテストされている

### ドキュメント

- [ ] 必要に応じてコードコメントが追加されている
- [ ] 必要に応じて README が更新されている
- [ ] API ドキュメントが更新されている
- [ ] 変更された場合、アーキテクチャドキュメントが更新されている
